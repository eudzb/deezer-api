<div class="container my-5" *ngIf="album">
  <div class="d-flex align-items-start justify-content-start mb-5">
    <img [src]="album.cover_xl"
         class="rounded shadow-sm" height="200" width="200">
    <div class="d-flex flex-column align-items-start justify-content-start mx-4">
      <span class="bg-dark text-white mb-3 explicit-tag" *ngIf="album.explicit_lyrics">Explicit</span>
      <h3 class="text-dark mb-3">{{album.title}}</h3>
      <div class="d-flex align-items-center mb-3">
        <img
          [src]="album.artist.picture_xl"
          class="rounded-circle" height="32" width="32">
        <span class="text-dark mx-2">{{album.artist.name}}</span>
      </div>
      <div class="d-flex align-items-center album-sm-info">
        <span class="text-muted">{{album.nb_tracks}} titres</span>
        <span class="text-muted">{{ album.duration | minuteSeconds }}</span>
        <span class="text-muted">{{album.release_date | date: 'dd/MM/yyyy'}}</span>
        <span class="text-muted">{{album.fans}} fans</span>
      </div>
    </div>
  </div>

  <div class="d-flex flex-column w-100 mt-4">
    <div class="track-header p-3 row align-items-center">
      <span class="text-muted col-1">#</span>
      <span class="text-muted col-auto">Titre</span>
      <span class="col text-muted align-self-end text-end">Dur√©e</span>
    </div>
    <div class="track-element p-3 row align-items-center" *ngFor="let track of album.tracks.data; let i = index">
      <span class="track-position text-muted col-1 px-1">
        <button class="play-btn d-flex align-items-center justify-content-center" *ngIf="!isPlaying || trackPlaying !== i"
                (click)="onPlay(track.preview, i)">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill"
               viewBox="0 0 16 16">
            <path
              d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
          </svg>
        </button>
        <button class="stop-btn d-flex align-items-center justify-content-center" *ngIf="isPlaying && trackPlaying === i" (click)="onStop()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-stop-fill"
               viewBox="0 0 16 16">
            <path
              d="M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"/>
          </svg>
        </button>
      </span>
      <span class="track-title text-dark col-auto">{{track.title}}</span>
      <span class="col text-muted align-self-end text-end">{{ track.duration * 1000 | date:'mm:ss' }}</span>
    </div>
  </div>
</div>
